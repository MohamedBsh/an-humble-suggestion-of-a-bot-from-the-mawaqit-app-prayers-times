import json
from src.transform import get_info_times_by_day


def test_pad_month_3_days_january():
    data = json.load(open("tests/mock_data/sample-01-2022-3-days.json"))
    year = "2022"
    info_wanted = "calendar"
    assert get_info_times_by_day(data, info_wanted, year) == [
        {
            "2022-01-01": ["06:49", "08:44", "12:55", "14:47", "17:08", "18:47"],
            "2022-01-02": ["06:49", "08:44", "12:56", "14:48", "17:09", "18:48"],
            "2022-01-03": ["06:49", "08:44", "12:56", "14:49", "17:10", "18:49"],
        }
    ]


def test_pad_one_month_january():
    data = json.load(open("tests/mock_data/sample-01-2022.json"))
    year = "2022"
    info_wanted = "calendar"
    assert get_info_times_by_day(data, info_wanted, year) == [
        {
            "2022-01-01": ["06:49", "08:44", "12:55", "14:47", "17:08", "18:47"],
            "2022-01-02": ["06:49", "08:44", "12:56", "14:48", "17:09", "18:48"],
            "2022-01-03": ["06:49", "08:44", "12:56", "14:49", "17:10", "18:49"],
            "2022-01-04": ["06:49", "08:44", "12:57", "14:50", "17:11", "18:50"],
            "2022-01-05": ["06:49", "08:44", "12:57", "14:51", "17:12", "18:51"],
            "2022-01-06": ["06:49", "08:43", "12:58", "14:52", "17:13", "18:52"],
            "2022-01-07": ["06:49", "08:43", "12:58", "14:53", "17:14", "18:53"],
            "2022-01-08": ["06:49", "08:43", "12:59", "14:54", "17:15", "18:54"],
            "2022-01-09": ["06:49", "08:42", "12:59", "14:55", "17:17", "18:55"],
            "2022-01-10": ["06:48", "08:42", "12:59", "14:56", "17:18", "18:56"],
            "2022-01-11": ["06:48", "08:41", "13:00", "14:57", "17:19", "18:58"],
            "2022-01-12": ["06:48", "08:41", "13:00", "14:59", "17:21", "18:59"],
            "2022-01-13": ["06:47", "08:40", "13:01", "15:00", "17:22", "19:00"],
            "2022-01-14": ["06:47", "08:39", "13:01", "15:01", "17:23", "19:01"],
            "2022-01-15": ["06:46", "08:39", "13:01", "15:02", "17:25", "19:02"],
            "2022-01-16": ["06:46", "08:38", "13:02", "15:03", "17:26", "19:03"],
            "2022-01-17": ["06:45", "08:37", "13:02", "15:05", "17:28", "19:05"],
            "2022-01-18": ["06:45", "08:36", "13:02", "15:06", "17:29", "19:06"],
            "2022-01-19": ["06:44", "08:36", "13:03", "15:07", "17:31", "19:07"],
            "2022-01-20": ["06:44", "08:35", "13:03", "15:08", "17:32", "19:08"],
            "2022-01-21": ["06:43", "08:34", "13:03", "15:10", "17:34", "19:10"],
            "2022-01-22": ["06:42", "08:33", "13:03", "15:11", "17:35", "19:11"],
            "2022-01-23": ["06:41", "08:32", "13:04", "15:12", "17:37", "19:12"],
            "2022-01-24": ["06:41", "08:31", "13:04", "15:13", "17:38", "19:14"],
            "2022-01-25": ["06:40", "08:30", "13:04", "15:15", "17:40", "19:15"],
            "2022-01-26": ["06:39", "08:28", "13:04", "15:16", "17:41", "19:16"],
            "2022-01-27": ["06:38", "08:27", "13:05", "15:17", "17:43", "19:18"],
            "2022-01-28": ["06:37", "08:26", "13:05", "15:19", "17:45", "19:19"],
            "2022-01-29": ["06:36", "08:25", "13:05", "15:20", "17:46", "19:21"],
            "2022-01-30": ["06:35", "08:23", "13:05", "15:21", "17:48", "19:22"],
            "2022-01-31": ["06:34", "08:22", "13:05", "15:23", "17:50", "19:23"],
        }
    ]


def test_get_info_times_by_day_two_months():
    data = json.load(open("tests/mock_data/sample-01-02-2022.json"))
    year = "2022"
    info_wanted = "calendar"
    assert get_info_times_by_day(data, info_wanted, year) == [
        {
            "2022-01-01": ["06:49", "08:44", "12:55", "14:47", "17:08", "18:47"],
            "2022-01-02": ["06:49", "08:44", "12:56", "14:48", "17:09", "18:48"],
            "2022-01-03": ["06:49", "08:44", "12:56", "14:49", "17:10", "18:49"],
            "2022-01-04": ["06:49", "08:44", "12:57", "14:50", "17:11", "18:50"],
            "2022-01-05": ["06:49", "08:44", "12:57", "14:51", "17:12", "18:51"],
            "2022-01-06": ["06:49", "08:43", "12:58", "14:52", "17:13", "18:52"],
            "2022-01-07": ["06:49", "08:43", "12:58", "14:53", "17:14", "18:53"],
            "2022-01-08": ["06:49", "08:43", "12:59", "14:54", "17:15", "18:54"],
            "2022-01-09": ["06:49", "08:42", "12:59", "14:55", "17:17", "18:55"],
            "2022-01-10": ["06:48", "08:42", "12:59", "14:56", "17:18", "18:56"],
            "2022-01-11": ["06:48", "08:41", "13:00", "14:57", "17:19", "18:58"],
            "2022-01-12": ["06:48", "08:41", "13:00", "14:59", "17:21", "18:59"],
            "2022-01-13": ["06:47", "08:40", "13:01", "15:00", "17:22", "19:00"],
            "2022-01-14": ["06:47", "08:39", "13:01", "15:01", "17:23", "19:01"],
            "2022-01-15": ["06:46", "08:39", "13:01", "15:02", "17:25", "19:02"],
            "2022-01-16": ["06:46", "08:38", "13:02", "15:03", "17:26", "19:03"],
            "2022-01-17": ["06:45", "08:37", "13:02", "15:05", "17:28", "19:05"],
            "2022-01-18": ["06:45", "08:36", "13:02", "15:06", "17:29", "19:06"],
            "2022-01-19": ["06:44", "08:36", "13:03", "15:07", "17:31", "19:07"],
            "2022-01-20": ["06:44", "08:35", "13:03", "15:08", "17:32", "19:08"],
            "2022-01-21": ["06:43", "08:34", "13:03", "15:10", "17:34", "19:10"],
            "2022-01-22": ["06:42", "08:33", "13:03", "15:11", "17:35", "19:11"],
            "2022-01-23": ["06:41", "08:32", "13:04", "15:12", "17:37", "19:12"],
            "2022-01-24": ["06:41", "08:31", "13:04", "15:13", "17:38", "19:14"],
            "2022-01-25": ["06:40", "08:30", "13:04", "15:15", "17:40", "19:15"],
            "2022-01-26": ["06:39", "08:28", "13:04", "15:16", "17:41", "19:16"],
            "2022-01-27": ["06:38", "08:27", "13:05", "15:17", "17:43", "19:18"],
            "2022-01-28": ["06:37", "08:26", "13:05", "15:19", "17:45", "19:19"],
            "2022-01-29": ["06:36", "08:25", "13:05", "15:20", "17:46", "19:21"],
            "2022-01-30": ["06:35", "08:23", "13:05", "15:21", "17:48", "19:22"],
            "2022-01-31": ["06:34", "08:22", "13:05", "15:23", "17:50", "19:23"],
        },
        {
            "2022-02-01": ["06:33", "08:21", "13:05", "15:24", "17:51", "19:25"],
            "2022-02-02": ["06:32", "08:19", "13:06", "15:25", "17:53", "19:26"],
            "2022-02-03": ["06:30", "08:18", "13:06", "15:27", "17:54", "19:28"],
            "2022-02-04": ["06:29", "08:16", "13:06", "15:28", "17:56", "19:29"],
            "2022-02-05": ["06:28", "08:15", "13:06", "15:29", "17:58", "19:31"],
            "2022-02-06": ["06:27", "08:13", "13:06", "15:31", "17:59", "19:32"],
            "2022-02-07": ["06:25", "08:12", "13:06", "15:32", "18:01", "19:33"],
            "2022-02-08": ["06:24", "08:10", "13:06", "15:33", "18:03", "19:35"],
            "2022-02-09": ["06:23", "08:09", "13:06", "15:35", "18:04", "19:36"],
            "2022-02-10": ["06:21", "08:07", "13:06", "15:36", "18:06", "19:38"],
            "2022-02-11": ["06:20", "08:06", "13:06", "15:37", "18:08", "19:39"],
            "2022-02-12": ["06:18", "08:04", "13:06", "15:39", "18:09", "19:41"],
            "2022-02-13": ["06:17", "08:02", "13:06", "15:40", "18:11", "19:42"],
            "2022-02-14": ["06:15", "08:00", "13:06", "15:41", "18:13", "19:44"],
            "2022-02-15": ["06:14", "07:59", "13:06", "15:42", "18:14", "19:45"],
            "2022-02-16": ["06:12", "07:57", "13:06", "15:44", "18:16", "19:47"],
            "2022-02-17": ["06:11", "07:55", "13:06", "15:45", "18:18", "19:48"],
            "2022-02-18": ["06:09", "07:53", "13:06", "15:46", "18:19", "19:50"],
            "2022-02-19": ["06:08", "07:52", "13:06", "15:47", "18:21", "19:51"],
            "2022-02-20": ["06:06", "07:50", "13:06", "15:49", "18:22", "19:52"],
            "2022-02-21": ["06:05", "07:48", "13:05", "15:50", "18:24", "19:54"],
            "2022-02-22": ["06:03", "07:46", "13:05", "15:51", "18:26", "19:55"],
            "2022-02-23": ["06:02", "07:44", "13:05", "15:52", "18:27", "19:56"],
            "2022-02-24": ["06:00", "07:42", "13:05", "15:53", "18:29", "19:58"],
            "2022-02-25": ["05:59", "07:40", "13:05", "15:55", "18:31", "19:59"],
            "2022-02-26": ["05:57", "07:38", "13:05", "15:56", "18:32", "20:00"],
            "2022-02-27": ["05:55", "07:36", "13:05", "15:57", "18:34", "20:02"],
            "2022-02-28": ["05:54", "07:35", "13:04", "15:58", "18:35", "20:03"],
            "2022-02-29": ["05:53", "07:34", "13:04", "15:58", "18:36", "20:03"],
        },
    ]